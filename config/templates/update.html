{% extends "base_generic.html" %}
{% load static %}
{% load widget_tweaks %}

{% block head %}
<!-- Tempus Dominus Bootstrap 4 -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.1/css/tempusdominus-bootstrap-4.min.css" />
<style>
  @media (max-width: 600.1px) {
    .optional-button {
      display: none;
    }
  }
</style>
{% endblock %}

{% block content %}
  <!-- Main row -->
  <div class="row">
    <div class="col-md-12">
      <!-- general form elements -->
      <div class="card card-danger">
        <div class="card-header">
          <h3 class="card-title">Formulário</h3>
        </div>
        <!-- /.card-header -->
        <!-- form start -->
        <form action="{{ action }}" method="post">
          <div class="card-body">
            {% csrf_token %}
            {{ form.non_field_errors }}

            <div class="row">
                <div class="col-md-6 form-group">
                {{ form.attention.errors }}
                <label for="{{ form.attention.id_for_label }}">Tempo Atenção</label>
                {% render_field form.attention class="form-control"%}
                </div>

                <div class="col-md-6 form-group">
                {{ form.urgent.errors }}
                <label for="{{ form.urgent.id_for_label }}">Tempo Urgente</label>
                {% render_field form.urgent class="form-control"%}
                </div>
            </div>

            <div class="row">
                <div class="col-md-3 form-group">
                {{ form.email_model.errors }}
                <label for="{{ form.email_model.id_for_label }}">URL do modelo de e-mail</label>
                {% render_field form.email_model class="form-control"%}
                </div>

                <div class="col-md-3 form-group">
                {{ form.manual.errors }}
                <label for="{{ form.manual.id_for_label }}">URL do Manual de Captação</label>
                {% render_field form.manual class="form-control"%}
                </div>

                <div class="col-md-3 form-group">
                {{ form.media_kit.errors }}
                <label for="{{ form.media_kit.id_for_label }}">URL do Media Kit</label>
                {% render_field form.media_kit class="form-control"%}
                </div>

                <div class="col-md-3 form-group">
                {{ form.proposal.errors }}
                <label for="{{ form.proposal.id_for_label }}">URL da Carta Proposta</label>
                {% render_field form.proposal class="form-control"%}
                </div>
            </div>

            <div class="row">
                <div class="col-md-3 form-group">
                {{ form.sales_board_id.errors }}
                <label for="{{ form.sales_board_id.id_for_label }}">ID do board de Vendas</label>
                {% render_field form.sales_board_id class="form-control"%}
                </div>

                <div class="col-md-3 form-group">
                {{ form.sales_board_url.errors }}
                <label for="{{ form.sales_board_url.id_for_label }}">URL do board de Vendas</label>
                {% render_field form.sales_board_url class="form-control"%}
                </div>

                <div class="col-md-3 form-group">
                {{ form.contracts_board_id.errors }}
                <label for="{{ form.contracts_board_id.id_for_label }}">ID do board de Contratos</label>
                {% render_field form.contracts_board_id class="form-control"%}
                </div>

                <div class="col-md-3 form-group">
                {{ form.contracts_board_url.errors }}
                <label for="{{ form.contracts_board_url.id_for_label }}">URL do board de Contratos</label>
                {% render_field form.contracts_board_url class="form-control"%}
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 form-group">
                {{ form.closed_table_id.errors }}
                <label for="{{ form.closed_table_id.id_for_label }}">ID da tabela de Empresas Fechadas</label>
                {% render_field form.closed_table_id class="form-control"%}
                </div>

                <div class="col-md-4 form-group">
                {{ form.closed_table_range.errors }}
                <label for="{{ form.closed_table_range.id_for_label }}">Range da tabela de Empresas Fechadas</label>
                {% render_field form.closed_table_range class="form-control"%}
                </div>

                <div class="col-md-4 form-group">
                {{ form.closed_table_url.errors }}
                <label for="{{ form.closed_table_url.id_for_label }}">URL da tabela de Empresas Fechadas</label>
                {% render_field form.closed_table_url class="form-control"%}
                </div>
            </div>

            {% for activity in form.activities %}
                <div class="form-group">
                {{ activity.errors }}
                <label for="{{ activity.id_for_label }}">Nome</label>
                {% render_field activity class="form-control"%}
                </div>
            {% endfor %}

            {% for category in form.categories %}
                <div class="form-group">
                {{ category.errors }}
                <label for="{{ category.id_for_label }}">Nome</label>
                {% render_field category class="form-control"%}
                </div>
            {% endfor %}

            {% for contract in form.contracts %}
                <div class="form-group">
                {{ contract.errors }}
                <label for="{{ contract.id_for_label }}">Nome</label>
                {% render_field contract class="form-control"%}
                </div>
            {% endfor %}

            {% for fee in form.fees %}
                <div class="form-group">
                {{ fee.errors }}
                <label for="{{ fee.id_for_label }}">Nome</label>
                {% render_field fee class="form-control"%}
                </div>
            {% endfor %}

            {% for payment_form in form.payment_forms %}
                <div class="form-group">
                {{ payment_form.errors }}
                <label for="{{ payment_form.id_for_label }}">Nome</label>
                {% render_field payment_form class="form-control"%}
                </div>
            {% endfor %}

            <div class="card-footer">
              <button type="submit" class="btn btn-danger">Submit</button>
            </div>
          </div>
        </form>
      </div>

      <div class="card card-danger">
        <div class="card-header">
          <h3 class="card-title">Atividades</h3>
        </div>
        <div class="card-body p-0 card-my">
          <table id="Activities" class="table table-striped table-hover">
            <thead>
              <tr>
                <th>#</th>
                <th>Nome</th>
                <th></th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              {% for activity in activities.list %}
              <tr>
                <td>{{ activity.count }}.</td>
                <td>{{ activity.name }}</td>
                <td>
                  <a href="{{ activities.edit }}{{ activity.id }}">
                    <button class="btn btn-danger">Editar</button></td>
                  </a>
                </td>
                <td>
                  <a href="{{ activities.remove }}{{ activity.id }}">
                    <button class="btn btn-danger">Remover</button></td>
                  </a>
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
        <div class="card-footer">
          <a href="{{ activities.new }}">
            <div class="btn btn-danger">
              Adicionar Atividade
            </div>
          </a>
        </div>
      </div>

      <div class="card card-danger">
        <div class="card-header">
          <h3 class="card-title">Categorias</h3>
        </div>
        <div class="card-body p-0 card-my">
          <table id="Categories" class="table table-striped table-hover">
            <thead>
              <tr>
                <th>#</th>
                <th>Nome</th>
                <th></th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              {% for category in categories.list %}
              <tr>
                <td>{{ category.count }}.</td>
                <td>{{ category.name }}</td>
                <td>
                  <a href="{{ categories.edit }}{{ category.id }}">
                    <button class="btn btn-danger">Editar</button></td>
                  </a>
                </td>
                <td>
                  <a href="{{ categories.remove }}{{ category.id }}">
                    <button class="btn btn-danger">Remover</button></td>
                  </a>
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>

        <div class="card-footer">
          <a href="{{ categories.new }}">
            <div class="btn btn-danger">
              Adicionar Categoria
            </div>
          </a>
        </div>

      </div>

      <div class="card card-danger">
        <div class="card-header">
          <h3 class="card-title">Tipos de Contrato</h3>
        </div>
        <div class="card-body p-0 card-my">
          <table id="Contracts" class="table table-striped table-hover">
            <thead>
              <tr>
                <th>#</th>
                <th>Nome</th>
                <th></th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              {% for contract in contracts.list %}
              <tr>
                <td>{{ contract.count }}.</td>
                <td>{{ contract.name }}</td>
                <td>
                  <a href="{{ contracts.edit }}{{ contract.id }}">
                    <button class="btn btn-danger">Editar</button></td>
                  </a>
                </td>
                <td>
                  <a href="{{ contracts.remove }}{{ contract.id }}">
                    <button class="btn btn-danger">Remover</button></td>
                  </a>
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>

        <div class="card-footer">
          <a href="{{ contracts.new }}">
            <div class="btn btn-danger">
              Adicionar Tipo de Contrato
            </div>
          </a>
        </div>

      </div>

      <div class="card card-danger">
        <div class="card-header">
          <h3 class="card-title">Cotas</h3>
        </div>
        <div class="card-body p-0 card-my">
          <table id="Fees" class="table table-striped table-hover">
            <thead>
              <tr>
                <th>#</th>
                <th>Nome</th>
                <th></th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              {% for fee in fees.list %}
              <tr>
                <td>{{ fee.count }}.</td>
                <td>{{ fee.name }}</td>
                <td>
                  <a href="{{ fees.edit }}{{ fee.id }}">
                    <button class="btn btn-danger">Editar</button></td>
                  </a>
                </td>
                <td>
                  <a href="{{ fees.remove }}{{ fee.id }}">
                    <button class="btn btn-danger">Remover</button></td>
                  </a>
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>

        <div class="card-footer">
          <a href="{{ fees.new }}">
            <div class="btn btn-danger">
              Adicionar Cota
            </div>
          </a>
        </div>

      </div>

      <div class="card card-danger">
        <div class="card-header">
          <h3 class="card-title">Formas de Pagamento</h3>
        </div>
        <div class="card-body p-0 card-my">
          <table id="PaymentForms" class="table table-striped table-hover">
            <thead>
              <tr>
                <th>#</th>
                <th>Nome</th>
                <th></th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              {% for payment_form in payment_forms.list %}
              <tr>
                <td>{{ payment_form.count }}.</td>
                <td>{{ payment_form.name }}</td>
                <td>
                  <a href="{{ payment_forms.edit }}{{ payment_form.id }}">
                    <button class="btn btn-danger">Editar</button></td>
                  </a>
                </td>
                <td>
                  <a href="{{ payment_forms.remove }}{{ payment_form.id }}">
                    <button class="btn btn-danger">Remover</button></td>
                  </a>
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>

        <div class="card-footer">
          <a href="{{ payment_forms.new }}">
            <div class="btn btn-danger">
              Adicionar Forma de Pagamento
            </div>
          </a>
        </div>

      </div>

    </div>
    <!-- /.card -->
  </div>
  <!-- /.row (main row) -->
{% endblock %}

{% block scripts %}
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.1/js/tempusdominus-bootstrap-4.min.js"></script>
<script src="{% static 'plugins/datatables/jquery.dataTables.js' %}"></script>
<script src="{% static 'plugins/datatables-bs4/js/dataTables.bootstrap4.js' %}"></script>

<script type="text/javascript">
    $(function () {
      $('#datetimepicker4').datetimepicker({
        format: 'DD/MM/YYYY'
      });
      $('#Activities').DataTable();
      $('#Categories').DataTable();
      $('#Contracts').DataTable();
      $('#Fees').DataTable();
      $('#PaymentForms').DataTable();
    });
</script>
{% endblock %}
